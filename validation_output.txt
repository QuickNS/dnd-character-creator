D&D 2024 Data Validator
Validating data files against schemas in models/

======================================================================
VALIDATING CLASS FILES
======================================================================
✅ barbarian.json
✅ bard.json
✅ cleric.json
✅ druid.json
❌ fighter.json
   Error: 'Strength or Dexterity' is not one of ['Strength', 'Dexterity', 'Constitution', 'Intelligence', 'Wisdom', 'Charisma']

Failed validating 'enum' in schema['properties']['primary_ability']:
    {'type': 'string',
     'description': 'The primary ability score for this class',
     'enum': ['Strength',
              'Dexterity',
              'Constitution',
              'Intelligence',
              'Wisdom',
              'Charisma']}

On instance['primary_ability']:
    'Strength or Dexterity'
❌ monk.json
   Error: 'Dexterity and Wisdom' is not one of ['Strength', 'Dexterity', 'Constitution', 'Intelligence', 'Wisdom', 'Charisma']

Failed validating 'enum' in schema['properties']['primary_ability']:
    {'type': 'string',
     'description': 'The primary ability score for this class',
     'enum': ['Strength',
              'Dexterity',
              'Constitution',
              'Intelligence',
              'Wisdom',
              'Charisma']}

On instance['primary_ability']:
    'Dexterity and Wisdom'
❌ paladin.json
   Error: 'Strength & Charisma' is not one of ['Strength', 'Dexterity', 'Constitution', 'Intelligence', 'Wisdom', 'Charisma']

Failed validating 'enum' in schema['properties']['primary_ability']:
    {'type': 'string',
     'description': 'The primary ability score for this class',
     'enum': ['Strength',
              'Dexterity',
              'Constitution',
              'Intelligence',
              'Wisdom',
              'Charisma']}

On instance['primary_ability']:
    'Strength & Charisma'
❌ ranger.json
   Error: 'Dexterity & Wisdom' is not one of ['Strength', 'Dexterity', 'Constitution', 'Intelligence', 'Wisdom', 'Charisma']

Failed validating 'enum' in schema['properties']['primary_ability']:
    {'type': 'string',
     'description': 'The primary ability score for this class',
     'enum': ['Strength',
              'Dexterity',
              'Constitution',
              'Intelligence',
              'Wisdom',
              'Charisma']}

On instance['primary_ability']:
    'Dexterity & Wisdom'
✅ rogue.json
✅ sorcerer.json
✅ warlock.json
❌ wizard.json
   Error: {'1st': 4, '2nd': 3, '3rd': 3, '4th': 3, '5th': 1} is not of type 'array'

Failed validating 'type' in schema['properties']['spell_slots_by_level']['patternProperties']['^([1-9]|1[0-9]|20)$']:
    {'type': 'array',
     'items': {'type': 'integer', 'minimum': 0},
     'minItems': 9,
     'maxItems': 9}

On instance['spell_slots_by_level']['9']:
    {'1st': 4, '2nd': 3, '3rd': 3, '4th': 3, '5th': 1}

======================================================================
VALIDATING SUBCLASS FILES
======================================================================

BARBARIAN:
  ❌ berserker.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Berserker',
     'class_name': 'Barbarian',
     'description': 'Barbarians who follow the Path of the Berserker lose '
                    'themselves to the fury of their rage, entering a '
                    'state of frenzied bloodlust.',
     'features_by_level': {'3': {'Frenzy': 'When you enter your rage, you '
                                           'can go into a frenzy. If you '
                                           'do so, for the duration of '
                                           'your rage you can make a '
                                           'single melee weapon attack as '
                                           'a bonus action on each of your '
                                           'turns after this one. When '
                                           'your rage ends, you suffer one '
                                           'level of exhaustion.'},
                           '6': {'Mindless Rage': "You can't be charmed or "
                                                  'frightened while '
                                                  'raging. If you are '
                                                  'charmed or frightened '
                                                  'when you enter your '
                                                  'rage, the effect is '
                                                  'suspended for the '
                                                  'duration of the rage.'},
                           '10': {'Intimidating Presence': 'You can use '
                                                           'your action to '
                                                           'frighten '
                                                           'someone with '
                                                           'your menacing '
                                                           'presence. '
                                                           'Choose one '
                                                           'creature that '
                                                           'you can see '
                                                           'within 30 '
                                                           'feet. If the '
                                                           'creature can '
                                                           'see or hear '
                                                           'you, it must '
                                                           'succeed on a '
                                                           'Wisdom saving '
                                                           'throw (DC 8 + '
                                                           'your '
                                                           'proficiency '
                                                           'bonus + your '
                                                           'Charisma '
                                                           'modifier) or '
                                                           'be frightened '
                                                           'of you until '
                                                           'the end of '
                                                           'your next '
                                                           'turn.'},
                           '14': {'Retaliation': 'When you take damage '
                                                 'from a creature that is '
                                                 'within 5 feet of you, '
                                                 'you can use your '
                                                 'reaction to make a melee '
                                                 'weapon attack against '
                                                 'that creature.'}}}
  ✅ path_of_the_berserker.json
  ✅ path_of_the_wild_heart.json
  ✅ path_of_the_world_tree.json
  ✅ path_of_the_zealot.json
  ❌ totem_warrior.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Totem Warrior',
     'class_name': 'Barbarian',
     'description': 'The Path of the Totem Warrior is a spiritual journey, '
                    'as the barbarian accepts a spirit animal as guide, '
                    'protector, and inspiration.',
     'features_by_level': {'3': {'Spirit Seeker': 'Yours is a path that '
                                                  'seeks attunement with '
                                                  'the natural world, '
                                                  'giving you a kinship '
                                                  'with beasts. You gain '
                                                  'the ability to cast the '
                                                  'beast sense and speak '
                                                  'with animals spells, '
                                                  'but only as rituals.',
                                 'Totem Spirit': 'Choose a totem animal: '
                                                 'bear, eagle, or wolf. '
                                                 'You gain its benefit '
                                                 'while raging and not '
                                                 'wearing heavy armor. '
                                                 'Bear: Resistance to all '
                                                 'damage except psychic. '
                                                 'Eagle: Other creatures '
                                                 'have disadvantage on '
                                                 'opportunity attacks '
                                                 'against you, and you can '
                                                 'use the Dash action as a '
                                                 'bonus action. Wolf: Your '
                                                 'friends have advantage '
                                                 'on melee attack rolls '
                                                 'against enemies within 5 '
                                                 'feet of you.'},
                           '6': {'Aspect of the Beast': 'You gain a '
                                                        'magical benefit '
                                                        'based on your '
                                                        'totem animal. '
                                                        'Bear: You count '
                                                        'as one size '
                                                        'larger when '
                                                        'determining '
                                                        'carrying capacity '
                                                        'and weight you '
                                                        'can '
                                                        'push/drag/lift, '
                                                        'and have '
                                                        'advantage on '
                                                        'Strength checks. '
                                                        'Eagle: You can '
                                                        'see up to 1 mile '
                                                        'away with no '
                                                        'difficulty and '
                                                        'have advantage on '
                                                        'Wisdom '
                                                        '(Perception) '
                                                        'checks that rely '
                                                        'on sight. Wolf: '
                                                        'You can track '
                                                        'other creatures '
                                                        'while traveling '
                                                        'at a fast pace, '
                                                        'and you can move '
                                                        'stealthily while '
                                                        'tracking.'},
                           '10': {'Spirit Walker': 'You can cast the '
                                                   'commune with nature '
                                                   'spell, but only as a '
                                                   'ritual. When you do '
                                                   'so, a spiritual '
                                                   'version of one of the '
                                                   'animals you chose for '
                                                   'Totem Spirit or Aspect '
                                                   'of the Beast appears '
                                                   'to you to convey the '
                                                   'information you seek.'},
                           '14': {'Totemic Attunement': 'You gain a '
                                                        'magical benefit '
                                                        'based on your '
                                                        'totem animal. '
                                                        'Bear: While '
                                                        'raging, any '
                                                        'creature within 5 '
                                                        "feet that's "
                                                        'hostile to you '
                                                        'has disadvantage '
                                                        'on attack rolls '
                                                        'against targets '
                                                        'other than you or '
                                                        'another character '
                                                        'with this '
                                                        'feature. Eagle: '
                                                        'While raging, you '
                                                        'have a flying '
                                                        'speed equal to '
                                                        'your current '
                                                        'walking speed '
                                                        '(this benefit '
                                                        'works only in '
                                                        'short bursts; you '
                                                        'fall if you end '
                                                        'your turn in the '
                                                        'air). Wolf: While '
                                                        'raging, you can '
                                                        'use a bonus '
                                                        'action to knock a '
                                                        'Large or smaller '
                                                        'creature prone '
                                                        'when you hit it '
                                                        'with a melee '
                                                        'weapon attack.'}}}
  ❌ wild_magic.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Wild Magic',
     'class_name': 'Barbarian',
     'description': 'Many places in the multiverse abound with beauty, '
                    'intense emotion, and rampant magic; the Feywild, the '
                    'Upper Planes, and other realms of supernatural power '
                    'radiate with such forces and can profoundly influence '
                    'people.',
     'features_by_level': {'3': {'Magic Awareness': 'As an action, you can '
                                                    'open your awareness '
                                                    'to detect magical '
                                                    'forces. Until the end '
                                                    'of your next turn, '
                                                    'you know the location '
                                                    'of any spell or magic '
                                                    'item within 60 feet '
                                                    "of you that isn't "
                                                    'behind total cover. '
                                                    'When you sense a '
                                                    'spell, you learn '
                                                    'which school of magic '
                                                    'it belongs to. You '
                                                    'can use this feature '
                                                    'a number of times '
                                                    'equal to your '
                                                    'proficiency bonus, '
                                                    'and you regain all '
                                                    'expended uses when '
                                                    'you finish a long '
                                                    'rest.',
                                 'Wild Surge': 'The magical energy roiling '
                                               'inside you sometimes '
                                               'erupts from you. When you '
                                               'enter your rage, roll on '
                                               'the Wild Magic table to '
                                               'determine the magical '
                                               'effect produced. If the '
                                               'effect requires a saving '
                                               'throw, the DC equals 8 + '
                                               'your proficiency bonus + '
                                               'your Constitution '
                                               'modifier.'},
                           '6': {'Bolstering Magic': 'You can harness your '
                                                     'wild magic to '
                                                     'bolster yourself or '
                                                     'a companion. As an '
                                                     'action, you can '
                                                     'touch one creature '
                                                     '(which can be '
                                                     'yourself) and confer '
                                                     'one of the following '
                                                     'benefits: For 10 '
                                                     'minutes, the '
                                                     'creature can roll a '
                                                     'd3 whenever making '
                                                     'an attack roll or '
                                                     'ability check and '
                                                     'add the number '
                                                     'rolled to the d20 '
                                                     'roll, or Roll a d3. '
                                                     'The creature '
                                                     'recovers an expended '
                                                     'spell slot of a '
                                                     'level equal to the '
                                                     'number rolled or '
                                                     'lower. Once a '
                                                     'creature receives '
                                                     'this benefit, that '
                                                     "creature can't "
                                                     'receive it again '
                                                     'until after a long '
                                                     'rest. You can take '
                                                     'this action a number '
                                                     'of times equal to '
                                                     'your proficiency '
                                                     'bonus, and you '
                                                     'regain all expended '
                                                     'uses when you finish '
                                                     'a long rest.'},
                           '10': {'Unstable Backlash': 'When you are '
                                                       'imperiled during '
                                                       'your rage, the '
                                                       'magic within you '
                                                       'can lash out; '
                                                       'immediately after '
                                                       'you take damage or '
                                                       'fail a saving '
                                                       'throw while '
                                                       'raging, you can '
                                                       'use your reaction '
                                                       'to roll on the '
                                                       'Wild Magic table '
                                                       'and immediately '
                                                       'produce the effect '
                                                       'rolled. This '
                                                       'effect replaces '
                                                       'your current Wild '
                                                       'Surge effect.'},
                           '14': {'Controlled Surge': 'Whenever you roll '
                                                      'on the Wild Magic '
                                                      'table, you can roll '
                                                      'the die twice and '
                                                      'choose which of the '
                                                      'two effects to use. '
                                                      'If you roll the '
                                                      'same number on both '
                                                      'dice, you can '
                                                      'ignore the number '
                                                      'and choose any '
                                                      'effect on the '
                                                      'table.'}},
     'wild_magic_table': {'1': 'Each creature of your choice that you can '
                               'see within 30 feet of you must succeed on '
                               'a Constitution saving throw or take 1d12 '
                               'necrotic damage. You also gain temporary '
                               'hit points equal to 1d12 + your barbarian '
                               'level.',
                          '2': 'You teleport up to 30 feet to an '
                               'unoccupied space you can see. Until your '
                               'rage ends, you can use this effect again '
                               'on each of your turns as a bonus action.',
                          '3': 'An intangible spirit, which looks like a '
                               'flumph or a pixie (your choice), appears '
                               'within 5 feet of one creature of your '
                               'choice that you can see within 30 feet of '
                               'you. At the end of the current turn, the '
                               'spirit explodes, and each creature within '
                               '5 feet of it must succeed on a Dexterity '
                               'saving throw or take 1d6 force damage. '
                               'Until your rage ends, you can use this '
                               'effect again, summoning another spirit, on '
                               'each of your turns as a bonus action.',
                          '4': 'Magic infuses one weapon of your choice '
                               'that you are holding. Until your rage '
                               "ends, the weapon's damage type changes to "
                               'force, and it gains the light and thrown '
                               'properties, with a normal range of 20 feet '
                               'and a long range of 60 feet. If the weapon '
                               'leaves your hand, the weapon reappears in '
                               'your hand at the end of the current turn.',
                          '5': 'Whenever a creature hits you with an '
                               'attack roll before your rage ends, that '
                               'creature takes 1d6 force damage, as magic '
                               'lashes out in retribution.',
                          '6': 'Until your rage ends, you are surrounded '
                               'by multicolored, protective lights; you '
                               'gain a +1 bonus to AC, and while within 10 '
                               'feet of you, your allies gain the same '
                               'bonus.',
                          '7': 'Flowers and vines temporarily grow around '
                               'you; until your rage ends, the ground '
                               'within 15 feet of you is difficult terrain '
                               'for your enemies.',
                          '8': 'A bolt of light shoots from your chest. '
                               'Another creature of your choice that you '
                               'can see within 30 feet of you must succeed '
                               'on a Constitution saving throw or take 1d6 '
                               'radiant damage and be blinded until the '
                               'start of your next turn. Until your rage '
                               'ends, you can use this effect again on '
                               'each of your turns as a bonus action.'}}

BARD:
  ✅ college_of_dance.json
  ✅ college_of_glamour.json
  ✅ college_of_lore.json
  ✅ college_of_valor.json

CLERIC:
  ✅ life_domain.json
  ✅ light_domain.json
  ✅ trickery_domain.json
  ✅ war_domain.json

DRUID:
  ✅ circle_of_stars.json
  ✅ circle_of_the_land.json
  ✅ circle_of_the_moon.json
  ✅ circle_of_the_sea.json
  ❌ circle_of_the_stars.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Circle of the Stars',
     'description': 'The Circle of the Stars has tracked heavenly patterns '
                    'since time immemorial, discovering secrets hidden '
                    'amid the constellations. By understanding these '
                    'secrets, the Druids of this circle seek to harness '
                    'the powers of the cosmos.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Star Map': "You've created a star chart "
                                             'as part of your heavenly '
                                             'studies. It is a Tiny '
                                             'object, and you can use it '
                                             'as a Spellcasting Focus for '
                                             'your Druid spells. While '
                                             'holding the map, you have '
                                             'the Guidance and Guiding '
                                             'Bolt spells prepared, and '
                                             'you can cast Guiding Bolt '
                                             'without expending a spell '
                                             'slot. You can cast it in '
                                             'that way a number of times '
                                             'equal to your Wisdom '
                                             'modifier (minimum of once), '
                                             'and you regain all expended '
                                             'uses when you finish a Long '
                                             'Rest. If you lose the map, '
                                             'you can perform a 1-hour '
                                             'ceremony to magically create '
                                             'a replacement.',
                                 'Starry Form': {'description': 'As a '
                                                                'Bonus '
                                                                'Action, '
                                                                'you can '
                                                                'expend a '
                                                                'use of '
                                                                'your Wild '
                                                                'Shape '
                                                                'feature '
                                                                'to take '
                                                                'on a '
                                                                'starry '
                                                                'form '
                                                                'rather '
                                                                'than '
                                                                'shape-shifting. '
                                                                'While in '
                                                                'your '
                                                                'starry '
                                                                'form, you '
                                                                'retain '
                                                                'your game '
                                                                'statistics, '
                                                                'but your '
                                                                'body '
                                                                'becomes '
                                                                'luminous. '
                                                                'This form '
                                                                'sheds '
                                                                'Bright '
                                                                'Light in '
                                                                'a 10-foot '
                                                                'radius '
                                                                'and Dim '
                                                                'Light for '
                                                                'an '
                                                                'additional '
                                                                '10 feet. '
                                                                'The form '
                                                                'lasts for '
                                                                '10 '
                                                                'minutes. '
                                                                'Whenever '
                                                                'you '
                                                                'assume '
                                                                'your '
                                                                'starry '
                                                                'form, '
                                                                'choose '
                                                                'which '
                                                                'constellation '
                                                                'glimmers '
                                                                'on your '
                                                                'body.',
                                                 'constellations': {'Archer': 'When '
                                                                              'you '
                                                                              'activate '
                                                                              'this '
                                                                              'form '
                                                                              'and '
                                                                              'as '
                                                                              'a '
                                                                              'Bonus '
                                                                              'Action '
                                                                              'on '
                                                                              'your '
                                                                              'subsequent '
                                                                              'turns '
                                                                              'while '
                                                                              'it '
                                                                              'lasts, '
                                                                              'you '
                                                                              'can '
                                                                              'make '
                                                                              'a '
                                                                              'ranged '
                                                                              'spell '
                                                                              'attack, '
                                                                              'hurling '
                                                                              'a '
                                                                              'luminous '
                                                                              'arrow '
                                                                              'that '
                                                                              'targets '
                                                                              'one '
                                                                              'creature '
                                                                              'within '
                                                                              '60 '
                                                                              'feet '
                                                                              'of '
                                                                              'yourself. '
                                                                              'On '
                                                                              'a '
                                                                              'hit, '
                                                                              'the '
                                                                              'attack '
                                                                              'deals '
                                                                              'Radiant '
                                                                              'damage '
                                                                              'equal '
                                                                              'to '
                                                                              '1d8 '
                                                                              'plus '
                                                                              'your '
                                                                              'Wisdom '
                                                                              'modifier.',
                                                                    'Chalice': 'Whenever '
                                                                               'you '
                                                                               'cast '
                                                                               'a '
                                                                               'spell '
                                                                               'using '
                                                                               'a '
                                                                               'spell '
                                                                               'slot '
                                                                               'that '
                                                                               'restores '
                                                                               'Hit '
                                                                               'Points '
                                                                               'to '
                                                                               'a '
                                                                               'creature, '
                                                                               'you '
                                                                               'or '
                                                                               'another '
                                                                               'creature '
                                                                               'within '
                                                                               '30 '
                                                                               'feet '
                                                                               'of '
                                                                               'you '
                                                                               'can '
                                                                               'regain '
                                                                               'Hit '
                                                                               'Points '
                                                                               'equal '
                                                                               'to '
                                                                               '1d8 '
                                                                               'plus '
                                                                               'your '
                                                                               'Wisdom '
                                                                               'modifier.',
                                                                    'Dragon': 'When '
                                                                              'you '
                                                                              'make '
                                                                              'an '
                                                                              'Intelligence '
                                                                              'or '
                                                                              'a '
                                                                              'Wisdom '
                                                                              'check '
                                                                              'or '
                                                                              'a '
                                                                              'Constitution '
                                                                              'saving '
                                                                              'throw '
                                                                              'to '
                                                                              'maintain '
                                                                              'Concentration, '
                                                                              'you '
                                                                              'can '
                                                                              'treat '
                                                                              'a '
                                                                              'roll '
                                                                              'of '
                                                                              '9 '
                                                                              'or '
                                                                              'lower '
                                                                              'on '
                                                                              'the '
                                                                              'd20 '
                                                                              'as '
                                                                              'a '
                                                                              '10.'}}},
                           '6': {'Cosmic Omen': 'Whenever you finish a '
                                                'Long Rest, you can '
                                                'consult your Star Map for '
                                                'omens and roll a die. '
                                                'Until you finish your '
                                                'next Long Rest, you gain '
                                                'access to a special '
                                                'Reaction based on whether '
                                                'you rolled an even or an '
                                                'odd number: Weal (Even) - '
                                                'roll 1d6 and add to a D20 '
                                                'Test within 30 feet; Woe '
                                                '(Odd) - roll 1d6 and '
                                                'subtract from a D20 Test '
                                                'within 30 feet. You can '
                                                'use this Reaction a '
                                                'number of times equal to '
                                                'your Wisdom modifier '
                                                '(minimum of once), and '
                                                'you regain all expended '
                                                'uses when you finish a '
                                                'Long Rest.'},
                           '10': {'Twinkling Constellations': 'The '
                                                              'constellations '
                                                              'of your '
                                                              'Starry Form '
                                                              'improve. '
                                                              'The 1d8 of '
                                                              'the Archer '
                                                              'and the '
                                                              'Chalice '
                                                              'becomes '
                                                              '2d8, and '
                                                              'while the '
                                                              'Dragon is '
                                                              'active, you '
                                                              'have a Fly '
                                                              'Speed of 20 '
                                                              'feet and '
                                                              'can hover. '
                                                              'Moreover, '
                                                              'at the '
                                                              'start of '
                                                              'each of '
                                                              'your turns '
                                                              'while in '
                                                              'your Starry '
                                                              'Form, you '
                                                              'can change '
                                                              'which '
                                                              'constellation '
                                                              'glimmers on '
                                                              'your body.'},
                           '14': {'Full of Stars': 'While in your Starry '
                                                   'Form, you become '
                                                   'partially incorporeal, '
                                                   'giving you Resistance '
                                                   'to Bludgeoning, '
                                                   'Piercing, and Slashing '
                                                   'damage.'}}}

FIGHTER:
  ✅ battle_master.json
  ✅ champion.json
  ✅ eldritch_knight.json
  ✅ psi_warrior.json

MONK:
  ✅ way_of_mercy.json
  ✅ way_of_shadow.json
  ✅ way_of_the_four_elements.json
  ✅ way_of_the_open_hand.json

PALADIN:
  ❌ oath_of_devotion.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Oath of Devotion',
     'description': 'The Oath of Devotion binds Paladins to the ideals of '
                    'Justice and Order. These Paladins meet the archetype '
                    'of the knight in shining armor. They hold themselves '
                    'to the highest standards of conduct. Tenets: Let your '
                    'word be your promise. Protect the weak and never fear '
                    'to act. Let your honorable deeds be an example.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Oath of Devotion Spells': {'description': 'You '
                                                                            'always '
                                                                            'have '
                                                                            'certain '
                                                                            'spells '
                                                                            'prepared.',
                                                             'spells': {'3': ['Protection '
                                                                              'from '
                                                                              'Evil '
                                                                              'and '
                                                                              'Good',
                                                                              'Shield '
                                                                              'of '
                                                                              'Faith'],
                                                                        '5': ['Aid',
                                                                              'Zone '
                                                                              'of '
                                                                              'Truth'],
                                                                        '9': ['Beacon '
                                                                              'of '
                                                                              'Hope',
                                                                              'Dispel '
                                                                              'Magic'],
                                                                        '13': ['Freedom '
                                                                               'of '
                                                                               'Movement',
                                                                               'Guardian '
                                                                               'of '
                                                                               'Faith'],
                                                                        '17': ['Commune',
                                                                               'Flame '
                                                                               'Strike']}},
                                 'Sacred Weapon': 'When you take the '
                                                  'Attack action, you can '
                                                  'expend one use of your '
                                                  'Channel Divinity to '
                                                  'imbue one Melee weapon '
                                                  'with positive energy '
                                                  'for 10 minutes. Add '
                                                  'your Charisma modifier '
                                                  'to attack rolls '
                                                  '(minimum +1), and the '
                                                  'weapon can deal its '
                                                  'normal type or Radiant '
                                                  'damage. The weapon '
                                                  'emits Bright Light in a '
                                                  '20-foot radius and Dim '
                                                  'Light 20 feet beyond.'},
                           '7': {'Aura of Devotion': 'You and your allies '
                                                     'have Immunity to the '
                                                     'Charmed condition '
                                                     'while in your Aura '
                                                     'of Protection. If a '
                                                     'Charmed ally enters '
                                                     'the aura, that '
                                                     'condition has no '
                                                     'effect while there.'},
                           '15': {'Smite of Protection': 'Whenever you '
                                                         'cast Divine '
                                                         'Smite, you and '
                                                         'your allies have '
                                                         'Half Cover while '
                                                         'in your Aura of '
                                                         'Protection until '
                                                         'the start of '
                                                         'your next turn.'},
                           '20': {'Holy Nimbus': 'As a Bonus Action, imbue '
                                                 'your Aura of Protection '
                                                 'with holy power for 10 '
                                                 'minutes. Benefits: Holy '
                                                 'Ward (Advantage on saves '
                                                 'vs Fiends/Undead), '
                                                 'Radiant Damage (enemies '
                                                 'in aura take Charisma + '
                                                 'Proficiency Bonus '
                                                 'radiant damage at start '
                                                 'of turn), Sunlight (aura '
                                                 'filled with Bright Light '
                                                 'that is sunlight). Can '
                                                 'restore use by expending '
                                                 'level 5 spell slot.'}}}
  ❌ oath_of_the_ancients.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Oath of the Ancients',
     'description': 'Paladins who swear this oath cherish the light and '
                    'love the beautiful and life-giving things of the '
                    'world. They often adorn their armor with images of '
                    'growing things. Tenets: Kindle the light of hope. '
                    'Shelter life. Delight in art and laughter.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {"Nature's Wrath": 'As a Magic action, '
                                                   'expend one use of '
                                                   'Channel Divinity to '
                                                   'conjure spectral '
                                                   'vines. Each creature '
                                                   'of your choice within '
                                                   '15 feet must succeed '
                                                   'on a Strength save or '
                                                   'have the Restrained '
                                                   'condition for 1 minute '
                                                   '(repeats save at end '
                                                   'of each turn).',
                                 'Oath of the Ancients Spells': {'description': 'You '
                                                                                'always '
                                                                                'have '
                                                                                'certain '
                                                                                'spells '
                                                                                'prepared.',
                                                                 'spells': {'3': ['Ensnaring '
                                                                                  'Strike',
                                                                                  'Speak '
                                                                                  'with '
                                                                                  'Animals'],
                                                                            '5': ['Misty '
                                                                                  'Step',
                                                                                  'Moonbeam'],
                                                                            '9': ['Plant '
                                                                                  'Growth',
                                                                                  'Protection '
                                                                                  'from '
                                                                                  'Energy'],
                                                                            '13': ['Ice '
                                                                                   'Storm',
                                                                                   'Stoneskin'],
                                                                            '17': ['Commune '
                                                                                   'with '
                                                                                   'Nature',
                                                                                   'Tree '
                                                                                   'Stride']}}},
                           '7': {'Aura of Warding': 'Ancient magic forms '
                                                    'an eldritch ward. You '
                                                    'and your allies have '
                                                    'Resistance to '
                                                    'Necrotic, Psychic, '
                                                    'and Radiant damage '
                                                    'while in your Aura of '
                                                    'Protection.'},
                           '15': {'Undying Sentinel': 'When reduced to 0 '
                                                      'Hit Points (not '
                                                      'killed outright), '
                                                      'you can drop to 1 '
                                                      'Hit Point instead '
                                                      'and regain HP equal '
                                                      'to 3 times your '
                                                      'Paladin level. Once '
                                                      'per Long Rest. '
                                                      'Additionally, you '
                                                      "can't be aged "
                                                      'magically and cease '
                                                      'visibly aging.'},
                           '20': {'Elder Champion': 'As a Bonus Action, '
                                                    'imbue your Aura of '
                                                    'Protection with '
                                                    'primal power for 1 '
                                                    'minute. Benefits: '
                                                    'Diminish Defiance '
                                                    '(enemies have '
                                                    'Disadvantage on saves '
                                                    'vs your '
                                                    'spells/Channel '
                                                    'Divinity), '
                                                    'Regeneration (regain '
                                                    '10 HP at start of '
                                                    'each turn), Swift '
                                                    'Spells (cast action '
                                                    'spells as Bonus '
                                                    'Action). Can restore '
                                                    'use by expending '
                                                    'level 5 spell slot.'}}}
  ❌ oath_of_vengeance.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Oath of Vengeance',
     'description': 'The Oath of Vengeance is a solemn commitment to '
                    'punish those who have committed grievously evil acts. '
                    'Tenets: Show the wicked no mercy. Fight injustice and '
                    'its causes. Aid those harmed by injustice.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Oath of Vengeance Spells': {'description': 'You '
                                                                             'always '
                                                                             'have '
                                                                             'certain '
                                                                             'spells '
                                                                             'prepared.',
                                                              'spells': {'3': ['Bane',
                                                                               "Hunter's "
                                                                               'Mark'],
                                                                         '5': ['Hold '
                                                                               'Person',
                                                                               'Misty '
                                                                               'Step'],
                                                                         '9': ['Haste',
                                                                               'Protection '
                                                                               'from '
                                                                               'Energy'],
                                                                         '13': ['Banishment',
                                                                                'Dimension '
                                                                                'Door'],
                                                                         '17': ['Hold '
                                                                                'Monster',
                                                                                'Scrying']}},
                                 'Vow of Enmity': 'When you take the '
                                                  'Attack action, expend '
                                                  'one use of Channel '
                                                  'Divinity to utter a vow '
                                                  'against a creature '
                                                  'within 30 feet. You '
                                                  'have Advantage on '
                                                  'attack rolls against it '
                                                  'for 1 minute. If it '
                                                  'drops to 0 HP, you can '
                                                  'transfer the vow to a '
                                                  'different creature '
                                                  'within 30 feet.'},
                           '7': {'Relentless Avenger': 'When you hit a '
                                                       'creature with an '
                                                       'Opportunity '
                                                       'Attack, you can '
                                                       'reduce its Speed '
                                                       'to 0 until end of '
                                                       'turn. You can then '
                                                       'move up to half '
                                                       'your Speed as part '
                                                       'of the Reaction '
                                                       'without provoking '
                                                       'Opportunity '
                                                       'Attacks.'},
                           '15': {'Soul of Vengeance': 'Immediately after '
                                                       'a creature under '
                                                       'your Vow of Enmity '
                                                       'hits or misses '
                                                       'with an attack, '
                                                       'you can take a '
                                                       'Reaction to make a '
                                                       'melee attack '
                                                       'against it if '
                                                       'within range.'},
                           '20': {'Avenging Angel': 'As a Bonus Action, '
                                                    'gain benefits for 10 '
                                                    'minutes: Flight (Fly '
                                                    'Speed 60 feet, '
                                                    'hover), Frightful '
                                                    'Aura (enemies '
                                                    'starting turn in Aura '
                                                    'of Protection must '
                                                    'save or be '
                                                    'Frightened; attacks '
                                                    'vs Frightened '
                                                    'creatures have '
                                                    'Advantage). Can '
                                                    'restore use by '
                                                    'expending level 5 '
                                                    'spell slot.'}}}

RANGER:
  ❌ beast_master.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Beast Master',
     'class_name': 'Ranger',
     'description': 'The Beast Master archetype embodies a friendship '
                    'between the civilized races and the beasts of the '
                    'world. United in focus, beast and ranger work as one '
                    'to fight the monstrous foes that threaten '
                    'civilization and the wilderness alike.',
     'features_by_level': {'3': {"Ranger's Companion": 'You gain a beast '
                                                       'companion that '
                                                       'accompanies you on '
                                                       'your adventures '
                                                       'and is trained to '
                                                       'fight alongside '
                                                       'you. Choose a '
                                                       'beast that is no '
                                                       'larger than Medium '
                                                       'and that has a '
                                                       'challenge rating '
                                                       'of 1/4 or lower. '
                                                       'Your beast '
                                                       'companion gains a '
                                                       'variety of '
                                                       'benefits while '
                                                       'linked to you.',
                                 'Primal Companion': 'You magically summon '
                                                     'a primal beast, '
                                                     'which draws on the '
                                                     'power of your bond '
                                                     'with nature. The '
                                                     'beast is friendly to '
                                                     'you and your '
                                                     'companions and obeys '
                                                     'your commands. '
                                                     'Choose its stat '
                                                     'block: Beast of the '
                                                     'Land, Beast of the '
                                                     'Sea, or Beast of the '
                                                     'Sky. You also '
                                                     'determine the kind '
                                                     'of animal the beast '
                                                     'is, choosing a kind '
                                                     'appropriate for the '
                                                     'stat block. Whatever '
                                                     'kind you choose, the '
                                                     'beast bears primal '
                                                     'markings, indicating '
                                                     'its mystical '
                                                     'origin.'},
                           '7': {'Exceptional Training': 'On any of your '
                                                         'turns when your '
                                                         'beast companion '
                                                         "doesn't attack, "
                                                         'you can use a '
                                                         'bonus action to '
                                                         'command the '
                                                         'beast to take '
                                                         'the Dash, '
                                                         'Disengage, '
                                                         'Dodge, or Help '
                                                         'action on its '
                                                         'turn.'},
                           '11': {'Bestial Fury': 'Your beast companion '
                                                  'can make two attacks '
                                                  'when you command it to '
                                                  'use the Attack action.'},
                           '15': {'Share Spells': 'When you cast a spell '
                                                  'targeting yourself, you '
                                                  'can also affect your '
                                                  'beast companion with '
                                                  'the spell if the beast '
                                                  'is within 30 feet of '
                                                  'you.'}},
     'spellcasting_ability': 'Wisdom',
     'spell_slots_by_level': {'1': {},
                              '2': {'1': 2},
                              '3': {'1': 3},
                              '4': {'1': 3},
                              '5': {'1': 4, '2': 2},
                              '6': {'1': 4, '2': 2},
                              '7': {'1': 4, '2': 3},
                              '8': {'1': 4, '2': 3},
                              '9': {'1': 4, '2': 3, '3': 2},
                              '10': {'1': 4, '2': 3, '3': 2},
                              '11': {'1': 4, '2': 3, '3': 3},
                              '12': {'1': 4, '2': 3, '3': 3},
                              '13': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '14': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '15': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '16': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '17': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '18': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '19': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2},
                              '20': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2}}}
  ❌ gloom_stalker.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Gloom Stalker',
     'class_name': 'Ranger',
     'description': 'Gloom Stalkers are at home in the darkest places: '
                    'deep under the earth, in gloomy alleyways, in '
                    'primeval forests, and wherever else the light dims. '
                    'Most folk enter such places with trepidation, but a '
                    'Gloom Stalker ventures boldly into the darkness, '
                    'seeking to ambush threats before they can reach the '
                    'broader world.',
     'features_by_level': {'3': {'Gloom Stalker Magic': '3rd level: '
                                                        'Disguise Self. '
                                                        '5th level: Rope '
                                                        'Trick. 9th level: '
                                                        'Fear. 13th level: '
                                                        'Greater '
                                                        'Invisibility. '
                                                        '17th level: '
                                                        'Seeming.',
                                 'Dread Ambusher': 'You can give yourself '
                                                   'a bonus to initiative '
                                                   'rolls equal to your '
                                                   'Wisdom modifier. At '
                                                   'the start of your '
                                                   'first turn of each '
                                                   'combat, your walking '
                                                   'speed increases by 10 '
                                                   'feet, which lasts '
                                                   'until the end of that '
                                                   'turn. If you take the '
                                                   'Attack action on that '
                                                   'turn, you can make one '
                                                   'additional weapon '
                                                   'attack as part of that '
                                                   'action. If that attack '
                                                   'hits, the target takes '
                                                   'an extra 1d8 damage of '
                                                   "the weapon's damage "
                                                   'type.',
                                 'Umbral Sight': 'You gain darkvision out '
                                                 'to a range of 60 feet. '
                                                 'If you already have '
                                                 'darkvision from your '
                                                 'race, its range '
                                                 'increases by 30 feet. '
                                                 'You are also adept at '
                                                 'evading creatures that '
                                                 'rely on darkvision. '
                                                 'While in darkness, you '
                                                 'are invisible to any '
                                                 'creature that relies on '
                                                 'darkvision to see you in '
                                                 'that darkness.'},
                           '7': {'Iron Mind': 'You have honed your ability '
                                              'to resist the mind-altering '
                                              'powers of your prey. You '
                                              'gain proficiency in Wisdom '
                                              'saving throws. If you '
                                              'already have this '
                                              'proficiency, you instead '
                                              'gain proficiency in '
                                              'Intelligence or Charisma '
                                              'saving throws (your '
                                              'choice).'},
                           '11': {"Stalker's Flurry": 'Once on each of '
                                                      'your turns when you '
                                                      'miss with a weapon '
                                                      'attack, you can '
                                                      'make another weapon '
                                                      'attack as part of '
                                                      'the same action.'},
                           '15': {'Shadowy Dodge': 'You can dodge in '
                                                   'unforeseen ways, with '
                                                   'wisps of supernatural '
                                                   'shadow around you. '
                                                   'Whenever a creature '
                                                   'makes an attack roll '
                                                   'against you and '
                                                   "doesn't have advantage "
                                                   'on the roll, you can '
                                                   'use your reaction to '
                                                   'impose disadvantage on '
                                                   'it. You must use this '
                                                   'feature before you '
                                                   'know the outcome of '
                                                   'the attack roll.'}},
     'spellcasting_ability': 'Wisdom',
     'spell_slots_by_level': {'1': {},
                              '2': {'1': 2},
                              '3': {'1': 3},
                              '4': {'1': 3},
                              '5': {'1': 4, '2': 2},
                              '6': {'1': 4, '2': 2},
                              '7': {'1': 4, '2': 3},
                              '8': {'1': 4, '2': 3},
                              '9': {'1': 4, '2': 3, '3': 2},
                              '10': {'1': 4, '2': 3, '3': 2},
                              '11': {'1': 4, '2': 3, '3': 3},
                              '12': {'1': 4, '2': 3, '3': 3},
                              '13': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '14': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '15': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '16': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '17': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '18': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '19': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2},
                              '20': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2}}}
  ❌ hunter.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Hunter',
     'class_name': 'Ranger',
     'description': 'Emulating the Hunter archetype means accepting your '
                    'place as a bulwark between civilization and the '
                    "terrors of the wilderness. As you walk the Hunter's "
                    'path, you learn specialized techniques for fighting '
                    'the threats you face, from rampaging ogres and hordes '
                    'of orcs to towering giants and terrifying dragons.',
     'features_by_level': {'3': {"Hunter's Prey": 'You gain one of the '
                                                  'following features of '
                                                  'your choice. Colossus '
                                                  'Slayer: Your tenacity '
                                                  'can wear down the most '
                                                  'potent foes. When you '
                                                  'hit a creature with a '
                                                  'weapon attack, the '
                                                  'creature takes an extra '
                                                  "1d8 damage if it's "
                                                  'below its hit point '
                                                  'maximum. You can deal '
                                                  'this extra damage only '
                                                  'once per turn. Giant '
                                                  'Killer: When a Large or '
                                                  'larger creature within '
                                                  '5 feet of you hits or '
                                                  'misses you with an '
                                                  'attack, you can use '
                                                  'your reaction to attack '
                                                  'that creature '
                                                  'immediately after its '
                                                  'attack, provided that '
                                                  'you can see the '
                                                  'creature. Horde '
                                                  'Breaker: Once on each '
                                                  'of your turns when you '
                                                  'make a weapon attack, '
                                                  'you can make another '
                                                  'attack with the same '
                                                  'weapon against a '
                                                  'different creature that '
                                                  'is within 5 feet of the '
                                                  'original target and '
                                                  'within range of your '
                                                  'weapon.'},
                           '7': {'Defensive Tactics': 'You gain one of the '
                                                      'following features '
                                                      'of your choice. '
                                                      'Escape the Horde: '
                                                      'Opportunity attacks '
                                                      'against you are '
                                                      'made with '
                                                      'disadvantage. '
                                                      'Multiattack '
                                                      'Defense: When a '
                                                      'creature hits you '
                                                      'with an attack, you '
                                                      'gain a +4 bonus to '
                                                      'AC against all '
                                                      'subsequent attacks '
                                                      'made by that '
                                                      'creature for the '
                                                      'rest of the turn. '
                                                      'Steel Will: You '
                                                      'have advantage on '
                                                      'saving throws '
                                                      'against being '
                                                      'frightened.'},
                           '11': {'Multiattack': 'You gain one of the '
                                                 'following features of '
                                                 'your choice. Volley: You '
                                                 'can use your action to '
                                                 'make a ranged attack '
                                                 'against any number of '
                                                 'creatures within 10 feet '
                                                 'of a point you can see '
                                                 "within your weapon's "
                                                 'range. You must have '
                                                 'ammunition for each '
                                                 'target, as normal, and '
                                                 'you make a separate '
                                                 'attack roll for each '
                                                 'target. Whirlwind '
                                                 'Attack: You can use your '
                                                 'action to make a melee '
                                                 'attack against any '
                                                 'number of creatures '
                                                 'within 5 feet of you, '
                                                 'with a separate attack '
                                                 'roll for each target.'},
                           '15': {"Superior Hunter's Defense": 'You gain '
                                                               'one of the '
                                                               'following '
                                                               'features '
                                                               'of your '
                                                               'choice. '
                                                               'Evasion: '
                                                               'You can '
                                                               'nimbly '
                                                               'dodge out '
                                                               'of the way '
                                                               'of certain '
                                                               'area '
                                                               'effects, '
                                                               'such as a '
                                                               'red '
                                                               "dragon's "
                                                               'fiery '
                                                               'breath or '
                                                               'a '
                                                               'Lightning '
                                                               'Bolt '
                                                               'spell. '
                                                               'When you '
                                                               'are '
                                                               'subjected '
                                                               'to an '
                                                               'effect '
                                                               'that '
                                                               'allows you '
                                                               'to make a '
                                                               'Dexterity '
                                                               'saving '
                                                               'throw to '
                                                               'take only '
                                                               'half '
                                                               'damage, '
                                                               'you '
                                                               'instead '
                                                               'take no '
                                                               'damage if '
                                                               'you '
                                                               'succeed on '
                                                               'the saving '
                                                               'throw, and '
                                                               'only half '
                                                               'damage if '
                                                               'you fail. '
                                                               'Stand '
                                                               'Against '
                                                               'the Tide: '
                                                               'When a '
                                                               'hostile '
                                                               'creature '
                                                               'misses you '
                                                               'with a '
                                                               'melee '
                                                               'attack, '
                                                               'you can '
                                                               'use your '
                                                               'reaction '
                                                               'to force '
                                                               'that '
                                                               'creature '
                                                               'to repeat '
                                                               'the same '
                                                               'attack '
                                                               'against '
                                                               'another '
                                                               'creature '
                                                               '(other '
                                                               'than you) '
                                                               'of your '
                                                               'choice. '
                                                               'Uncanny '
                                                               'Dodge: '
                                                               'When an '
                                                               'attacker '
                                                               'that you '
                                                               'can see '
                                                               'hits you '
                                                               'with an '
                                                               'attack, '
                                                               'you can '
                                                               'use your '
                                                               'reaction '
                                                               'to halve '
                                                               'the '
                                                               "attack's "
                                                               'damage '
                                                               'against '
                                                               'you.'}},
     'spellcasting_ability': 'Wisdom',
     'spell_slots_by_level': {'1': {},
                              '2': {'1': 2},
                              '3': {'1': 3},
                              '4': {'1': 3},
                              '5': {'1': 4, '2': 2},
                              '6': {'1': 4, '2': 2},
                              '7': {'1': 4, '2': 3},
                              '8': {'1': 4, '2': 3},
                              '9': {'1': 4, '2': 3, '3': 2},
                              '10': {'1': 4, '2': 3, '3': 2},
                              '11': {'1': 4, '2': 3, '3': 3},
                              '12': {'1': 4, '2': 3, '3': 3},
                              '13': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '14': {'1': 4, '2': 3, '3': 3, '4': 1},
                              '15': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '16': {'1': 4, '2': 3, '3': 3, '4': 2},
                              '17': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '18': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 1},
                              '19': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2},
                              '20': {'1': 4,
                                     '2': 3,
                                     '3': 3,
                                     '4': 3,
                                     '5': 2}}}

ROGUE:
  ❌ arcane_trickster.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Arcane Trickster',
     'description': 'Some Rogues enhance their skills with spells, '
                    'learning magical tricks to aid their trade. Some use '
                    'talents as pickpockets and burglars, others are '
                    'pranksters.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Spellcasting': 'You learn to cast spells '
                                                 'using Wizard spell list. '
                                                 'Know 3 cantrips '
                                                 '(including Mage Hand, '
                                                 'plus 2 others). Prepare '
                                                 'spells from Wizard list '
                                                 'starting with 3 level 1 '
                                                 'spells. Intelligence is '
                                                 'spellcasting ability. '
                                                 'Can use Arcane Focus. '
                                                 'Gain additional cantrip '
                                                 'at level 10.',
                                 'Mage Hand Legerdemain': 'Cast Mage Hand '
                                                          'as Bonus Action '
                                                          'and make it '
                                                          'Invisible. '
                                                          'Control it as '
                                                          'Bonus Action '
                                                          'and make '
                                                          'Dexterity '
                                                          '(Sleight of '
                                                          'Hand) checks '
                                                          'through it.'},
                           '9': {'Magical Ambush': 'If you have Invisible '
                                                   'condition when casting '
                                                   'spell on creature, it '
                                                   'has Disadvantage on '
                                                   'saving throw against '
                                                   'the spell.'},
                           '13': {'Versatile Trickster': 'When you use '
                                                         'Trip option of '
                                                         'Cunning Strike, '
                                                         'you can also use '
                                                         'it on another '
                                                         'creature within '
                                                         '5 feet of your '
                                                         'spectral Mage '
                                                         'Hand.'},
                           '17': {'Spell Thief': 'When creature casts '
                                                 'spell targeting you or '
                                                 'including you in area, '
                                                 'use Reaction to force '
                                                 'Intelligence save (your '
                                                 'spell DC). On fail, '
                                                 'negate spell against you '
                                                 'and steal knowledge of '
                                                 'spell (level 1+ you can '
                                                 'cast). Have it prepared '
                                                 'for 8 hours; creature '
                                                 "can't cast it for 8 "
                                                 'hours. Once per Long '
                                                 'Rest.'}}}
  ❌ assassin.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Assassin',
     'description': 'Training focuses on using stealth, poison, and '
                    'disguise to eliminate foes with deadly efficiency. '
                    'While some are hired killers, spies, or bounty '
                    'hunters, these capabilities are equally useful for '
                    'adventurers facing monstrous enemies.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Assassinate': 'Initiative: Have '
                                                'Advantage on Initiative '
                                                'rolls. Surprising '
                                                'Strikes: During first '
                                                'round of combat, have '
                                                'Advantage on attack rolls '
                                                "vs creatures that haven't "
                                                'taken a turn. If Sneak '
                                                'Attack hits during that '
                                                'round, target takes extra '
                                                'damage equal to your '
                                                'Rogue level.',
                                 "Assassin's Tools": 'You gain Disguise '
                                                     "Kit and Poisoner's "
                                                     'Kit with '
                                                     'proficiency.'},
                           '9': {'Infiltration Expertise': 'Masterful '
                                                           'Mimicry: '
                                                           'Unerringly '
                                                           "mimic person's "
                                                           'speech/handwriting '
                                                           'after 1 hour '
                                                           'study. Roving '
                                                           'Aim: Speed '
                                                           "isn't reduced "
                                                           'to 0 by using '
                                                           'Steady Aim.'},
                           '13': {'Envenom Weapons': 'When you use Poison '
                                                     'option of Cunning '
                                                     'Strike, target also '
                                                     'takes 2d6 Poison '
                                                     'damage on failed '
                                                     'save. This damage '
                                                     'ignores Resistance '
                                                     'to Poison.'},
                           '17': {'Death Strike': 'When you hit with Sneak '
                                                  'Attack on first round '
                                                  'of combat, target must '
                                                  'make Constitution save '
                                                  '(DC 8 + Dexterity + '
                                                  'Proficiency) or '
                                                  "attack's damage is "
                                                  'doubled.'}}}
  ❌ thief.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Thief',
     'description': 'A mix of burglar, treasure hunter, and explorer—the '
                    'epitome of an adventurer. Gain abilities for delving '
                    'ruins and maximizing magic item benefits.',
     'source': "Player's Handbook",
     'features_by_level': {'3': {'Fast Hands': 'As Bonus Action: Make '
                                               'Dexterity (Sleight of '
                                               'Hand) check to pick '
                                               'lock/disarm trap with '
                                               "Thieves' Tools or pick "
                                               'pocket, OR take Utilize '
                                               'action, OR take Magic '
                                               'action to use magic item '
                                               'requiring an action.',
                                 'Second Story Work': 'Climber: Gain Climb '
                                                      'Speed equal to your '
                                                      'Speed. Jumper: '
                                                      'Determine jump '
                                                      'distance using '
                                                      'Dexterity instead '
                                                      'of Strength.'},
                           '9': {'Supreme Sneak': 'Gain Cunning Strike '
                                                  'option: Stealth Attack '
                                                  '(Cost 1d6): If you have '
                                                  "Hide action's Invisible "
                                                  'condition, this attack '
                                                  "doesn't end it if you "
                                                  'end turn behind '
                                                  'Three-Quarters or Total '
                                                  'Cover.'},
                           '13': {'Use Magic Device': 'Attunement: Can '
                                                      'attune to up to 4 '
                                                      'magic items. '
                                                      'Charges: When using '
                                                      'property that '
                                                      'expends charges, '
                                                      'roll 1d6—on 6, use '
                                                      'without expending '
                                                      'charges. Scrolls: '
                                                      'Can use any Spell '
                                                      'Scroll '
                                                      '(Intelligence as '
                                                      'ability). Level 1 '
                                                      'or cantrip cast '
                                                      'reliably; higher '
                                                      'requires Arcana '
                                                      'check DC 10 + spell '
                                                      'level.'},
                           '17': {"Thief's Reflexes": 'Take two turns '
                                                      'during first round '
                                                      'of combat: first at '
                                                      'normal Initiative, '
                                                      'second at '
                                                      'Initiative minus '
                                                      '10.'}}}

SORCERER:
  ❌ draconic_bloodline.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Draconic Bloodline',
     'class_name': 'Sorcerer',
     'description': 'Your innate magic comes from draconic magic that was '
                    'mingled with your blood or that of your ancestors. '
                    'Most often, sorcerers with this origin trace their '
                    'descent back to a mighty sorcerer of ancient times '
                    'who made a bargain with a dragon or who might even '
                    'have claimed a dragon parent. Some of these '
                    'bloodlines are well established in the world, but '
                    'most are obscure.',
     'features_by_level': {'1': {'Dragon Ancestor': 'You choose one type '
                                                    'of dragon as your '
                                                    'ancestor. The damage '
                                                    'type associated with '
                                                    'each dragon is used '
                                                    'by features you gain '
                                                    'later. You can speak, '
                                                    'read, and write '
                                                    'Draconic. '
                                                    'Additionally, '
                                                    'whenever you make a '
                                                    'Charisma check when '
                                                    'interacting with '
                                                    'dragons, your '
                                                    'proficiency bonus is '
                                                    'doubled if it applies '
                                                    'to the check.',
                                 'Draconic Resilience': 'As magic flows '
                                                        'through your '
                                                        'body, it causes '
                                                        'physical traits '
                                                        'of your dragon '
                                                        'ancestor to '
                                                        'emerge. At 1st '
                                                        'level, your hit '
                                                        'point maximum '
                                                        'increases by 1 '
                                                        'and increases by '
                                                        '1 again whenever '
                                                        'you gain a level '
                                                        'in this class. '
                                                        'Additionally, '
                                                        'parts of your '
                                                        'skin are covered '
                                                        'by a thin sheen '
                                                        'of dragon-like '
                                                        'scales. When you '
                                                        "aren't wearing "
                                                        'armor, your AC '
                                                        'equals 13 + your '
                                                        'Dexterity '
                                                        'modifier.'},
                           '6': {'Elemental Affinity': 'When you cast a '
                                                       'spell that deals '
                                                       'damage of the type '
                                                       'associated with '
                                                       'your draconic '
                                                       'ancestry, you can '
                                                       'add your Charisma '
                                                       'modifier to one '
                                                       'damage roll of '
                                                       'that spell. At the '
                                                       'same time, you can '
                                                       'spend 1 sorcery '
                                                       'point to gain '
                                                       'resistance to that '
                                                       'damage type for 1 '
                                                       'hour.'},
                           '14': {'Dragon Wings': 'You gain the ability to '
                                                  'sprout a pair of dragon '
                                                  'wings from your back, '
                                                  'gaining a flying speed '
                                                  'equal to your current '
                                                  'speed. You can create '
                                                  'these wings as a bonus '
                                                  'action on your turn. '
                                                  'They last until you '
                                                  'dismiss them as a bonus '
                                                  'action on your turn. '
                                                  "You can't manifest your "
                                                  'wings while wearing '
                                                  'armor unless the armor '
                                                  'is made to accommodate '
                                                  'them, and clothing not '
                                                  'made to accommodate '
                                                  'your wings might be '
                                                  'destroyed when you '
                                                  'manifest them.'},
                           '18': {'Draconic Presence': 'You can channel '
                                                       'the dread presence '
                                                       'of your dragon '
                                                       'ancestor, causing '
                                                       'those around you '
                                                       'to become '
                                                       'awestruck or '
                                                       'frightened. As an '
                                                       'action, you can '
                                                       'spend 5 sorcery '
                                                       'points to draw on '
                                                       'this power and '
                                                       'exude an aura of '
                                                       'awe or fear (your '
                                                       'choice) to a '
                                                       'distance of 60 '
                                                       'feet. For 1 minute '
                                                       'or until you lose '
                                                       'your concentration '
                                                       '(as if you were '
                                                       'casting a '
                                                       'concentration '
                                                       'spell), each '
                                                       'hostile creature '
                                                       'that starts its '
                                                       'turn in this aura '
                                                       'must succeed on a '
                                                       'Wisdom saving '
                                                       'throw or be '
                                                       'charmed (if you '
                                                       'chose awe) or '
                                                       'frightened (if you '
                                                       'chose fear) until '
                                                       'the aura ends. A '
                                                       'creature that '
                                                       'succeeds on this '
                                                       'saving throw is '
                                                       'immune to your '
                                                       'aura for 24 '
                                                       'hours.'}}}
  ❌ storm_sorcery.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Storm Sorcery',
     'class_name': 'Sorcerer',
     'description': 'Your innate magic comes from the power of elemental '
                    'air. Many with this power can trace their magic back '
                    'to a near-death experience caused by the Great Rain, '
                    'but perhaps you were born during a howling gale so '
                    'powerful that folk still tell stories of it, or your '
                    'lineage might include the influence of potent air '
                    'creatures such as vaati or djinn.',
     'features_by_level': {'1': {'Wind Speaker': 'The arcane magic you '
                                                 'command is infused with '
                                                 'elemental air. You can '
                                                 'speak, read, and write '
                                                 'Primordial (specifically '
                                                 'its Air dialect).',
                                 'Tempestuous Magic': 'You can use a bonus '
                                                      'action on your turn '
                                                      'to cause whirling '
                                                      'gusts of elemental '
                                                      'air to briefly '
                                                      'surround you, '
                                                      'immediately before '
                                                      'or after you cast a '
                                                      'spell of 1st level '
                                                      'or higher. Doing so '
                                                      'allows you to fly '
                                                      'up to 10 feet '
                                                      'without provoking '
                                                      'opportunity '
                                                      'attacks.'},
                           '6': {'Heart of the Storm': 'You gain '
                                                       'resistance to '
                                                       'lightning and '
                                                       'thunder damage. In '
                                                       'addition, whenever '
                                                       'you start casting '
                                                       'a spell of 1st '
                                                       'level or higher '
                                                       'that deals '
                                                       'lightning or '
                                                       'thunder damage, '
                                                       'stormy magic '
                                                       'erupts from you. '
                                                       'This eruption '
                                                       'causes creatures '
                                                       'of your choice '
                                                       'that you can see '
                                                       'within 10 feet of '
                                                       'you to take '
                                                       'lightning or '
                                                       'thunder damage '
                                                       '(choose each time '
                                                       'this ability '
                                                       'activates) equal '
                                                       'to half your '
                                                       'sorcerer level.'},
                           '14': {'Storm Guide': 'You gain the ability to '
                                                 'subtly control the '
                                                 'weather around you. If '
                                                 'it is raining, you can '
                                                 'use an action to cause '
                                                 'the rain to stop falling '
                                                 'in a 20-foot-radius '
                                                 'sphere centered on you. '
                                                 'You can end this effect '
                                                 'as a bonus action. If it '
                                                 'is windy, you can use a '
                                                 'bonus action each round '
                                                 'to choose the direction '
                                                 'that the wind blows in a '
                                                 '100-foot-radius sphere '
                                                 'centered on you. The '
                                                 'wind blows in that '
                                                 'direction until the end '
                                                 'of your next turn. This '
                                                 "feature doesn't alter "
                                                 'the speed of the wind.'},
                           '18': {"Storm's Fury": 'When you are hit by a '
                                                  'melee attack, you can '
                                                  'use your reaction to '
                                                  'deal lightning damage '
                                                  'to the attacker. The '
                                                  'damage equals your '
                                                  'sorcerer level. The '
                                                  'attacker must also make '
                                                  'a Strength saving throw '
                                                  'against your spell save '
                                                  'DC. On a failed save, '
                                                  'the attacker is pushed '
                                                  'in a straight line up '
                                                  'to 20 feet away from '
                                                  'you.'}}}
  ❌ wild_magic.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Wild Magic',
     'class_name': 'Sorcerer',
     'description': 'Your innate magic comes from the wild forces of chaos '
                    'that underlie the order of creation. You might have '
                    'endured exposure to some form of raw magic, perhaps '
                    'through a planar portal leading to Limbo, the '
                    'Elemental Planes, or the mysterious Far Realm. '
                    'Perhaps you were blessed by a powerful fey creature '
                    'or marked by a demon. Or your magic could be a fluke '
                    'of your birth, with no apparent cause or reason.',
     'features_by_level': {'1': {'Wild Magic Surge': 'Your spellcasting '
                                                     'can unleash surges '
                                                     'of untamed magic. '
                                                     'Immediately after '
                                                     'you cast a sorcerer '
                                                     'spell of 1st level '
                                                     'or higher, the DM '
                                                     'can have you roll a '
                                                     'd20. If you roll a '
                                                     '1, roll on the Wild '
                                                     'Magic Surge table to '
                                                     'create a random '
                                                     'magical effect.',
                                 'Tides of Chaos': 'You can manipulate the '
                                                   'forces of chance and '
                                                   'chaos to gain '
                                                   'advantage on one '
                                                   'attack roll, ability '
                                                   'check, or saving '
                                                   'throw. Once you do so, '
                                                   'you must finish a long '
                                                   'rest before you can '
                                                   'use this feature '
                                                   'again. Any time before '
                                                   'you regain the use of '
                                                   'this feature, the DM '
                                                   'can have you roll on '
                                                   'the Wild Magic Surge '
                                                   'table immediately '
                                                   'after you cast a '
                                                   'sorcerer spell of 1st '
                                                   'level or higher. You '
                                                   'then regain the use of '
                                                   'this feature.'},
                           '6': {'Bend Luck': 'You have the ability to '
                                              'twist fate using your wild '
                                              'magic. When another '
                                              'creature you can see makes '
                                              'an attack roll, an ability '
                                              'check, or a saving throw, '
                                              'you can use your reaction '
                                              'and spend 2 sorcery points '
                                              'to roll 1d4 and apply the '
                                              'number rolled as a bonus or '
                                              'penalty (your choice) to '
                                              "the creature's roll. You "
                                              'can do so after the '
                                              'creature rolls but before '
                                              'any effects of the roll '
                                              'occur.'},
                           '14': {'Controlled Chaos': 'You gain a modicum '
                                                      'of control over the '
                                                      'surges of your wild '
                                                      'magic. Whenever you '
                                                      'roll on the Wild '
                                                      'Magic Surge table, '
                                                      'you can roll twice '
                                                      'and use either '
                                                      'number.'},
                           '18': {'Spell Bombardment': 'The harmful energy '
                                                       'of your spells '
                                                       'intensifies. When '
                                                       'you roll damage '
                                                       'for a spell and '
                                                       'roll the highest '
                                                       'number possible on '
                                                       'any of the dice, '
                                                       'choose one of '
                                                       'those dice, roll '
                                                       'it again and add '
                                                       'that roll to the '
                                                       'damage. You can '
                                                       'use the feature '
                                                       'only once per '
                                                       'turn.'}}}

WARLOCK:
  ❌ the_archfey.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'The Archfey',
     'class_name': 'Warlock',
     'description': 'Your patron is a lord or lady of the fey, a creature '
                    'of legend who holds secrets that were forgotten '
                    "before the mortal races were born. This being's "
                    'motivations are often inscrutable, and sometimes '
                    'whimsical, and might involve a striving for greater '
                    'magical power or the settling of age-old grudges. '
                    'Beings of this sort include the Prince of Frost; the '
                    'Queen of Air and Darkness, ruler of the Gloaming '
                    'Court; Titania of the Summer Court; her sister '
                    'Saralind, the Green Lord; and ancient hag queens.',
     'features_by_level': {'1': {'Expanded Spell List': '1st level: Faerie '
                                                        'Fire, Sleep. 2nd '
                                                        'level: Calm '
                                                        'Emotions, '
                                                        'Phantasmal Force. '
                                                        '3rd level: Blink, '
                                                        'Plant Growth. 4th '
                                                        'level: Dominate '
                                                        'Beast, Greater '
                                                        'Invisibility. 5th '
                                                        'level: Dominate '
                                                        'Person, Seeming.',
                                 'Fey Presence': 'Your patron bestows upon '
                                                 'you the ability to '
                                                 'project the beguiling '
                                                 'and fearsome presence of '
                                                 'the fey. As an action, '
                                                 'you can cause each '
                                                 'creature in a 10-foot '
                                                 'cube originating from '
                                                 'you to make a Wisdom '
                                                 'saving throw against '
                                                 'your warlock spell save '
                                                 'DC. The creatures that '
                                                 'fail their saving throws '
                                                 'are all charmed or '
                                                 'frightened by you (your '
                                                 'choice) until the end of '
                                                 'your next turn. Once you '
                                                 'use this feature, you '
                                                 "can't use it again until "
                                                 'you finish a short or '
                                                 'long rest.'},
                           '6': {'Misty Escape': 'You can vanish in a puff '
                                                 'of mist in response to '
                                                 'harm. When you take '
                                                 'damage, you can use your '
                                                 'reaction to turn '
                                                 'invisible and teleport '
                                                 'up to 60 feet to an '
                                                 'unoccupied space you can '
                                                 'see. You remain '
                                                 'invisible until the '
                                                 'start of your next turn '
                                                 'or until you attack or '
                                                 'cast a spell. Once you '
                                                 'use this feature, you '
                                                 "can't use it again until "
                                                 'you finish a short or '
                                                 'long rest.'},
                           '10': {'Beguiling Defenses': 'Your patron '
                                                        'teaches you how '
                                                        'to turn the '
                                                        'mind-affecting '
                                                        'magic of your '
                                                        'enemies against '
                                                        'them. You are '
                                                        'immune to being '
                                                        'charmed, and when '
                                                        'another creature '
                                                        'attempts to charm '
                                                        'you, you can use '
                                                        'your reaction to '
                                                        'attempt to turn '
                                                        'the charm back on '
                                                        'that creature. '
                                                        'The creature must '
                                                        'succeed on a '
                                                        'Wisdom saving '
                                                        'throw against '
                                                        'your warlock '
                                                        'spell save DC or '
                                                        'be charmed by you '
                                                        'for 1 minute or '
                                                        'until the '
                                                        'creature takes '
                                                        'any damage.'},
                           '14': {'Dark Delirium': 'You can plunge a '
                                                   'creature into an '
                                                   'illusory realm. As an '
                                                   'action, choose a '
                                                   'creature that you can '
                                                   'see within 60 feet of '
                                                   'you. It must make a '
                                                   'Wisdom saving throw '
                                                   'against your warlock '
                                                   'spell save DC. On a '
                                                   'failed save, it is '
                                                   'charmed or frightened '
                                                   'by you (your choice) '
                                                   'for 1 minute or until '
                                                   'your concentration is '
                                                   'broken (as if you are '
                                                   'concentrating on a '
                                                   'spell). This effect '
                                                   'ends early if the '
                                                   'creature takes any '
                                                   'damage. Until this '
                                                   'illusion ends, the '
                                                   'creature thinks it is '
                                                   'lost in a misty realm, '
                                                   'the appearance of '
                                                   'which you choose. The '
                                                   'creature can see and '
                                                   'hear only itself, you, '
                                                   'and the illusion. You '
                                                   'must finish a short or '
                                                   'long rest before you '
                                                   'can use this feature '
                                                   'again.'}}}
  ❌ the_fiend.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'The Fiend',
     'class_name': 'Warlock',
     'description': 'You have made a pact with a fiend from the lower '
                    'planes of existence, a being whose aims are evil, '
                    'even if you strive against those aims. Such beings '
                    'desire the corruption or destruction of all things, '
                    'ultimately including you. Fiends powerful enough to '
                    'forge a pact include demon lords such as Demogorgon, '
                    "Orcus, Fraz'Urb-luu, and Baphomet; archdevils such as "
                    'Asmodeus, Dispater, Mephistopheles, and Belial; pit '
                    'fiends and balors that are especially mighty; and '
                    'ultroloths and other lords of the yugoloths.',
     'features_by_level': {'1': {'Expanded Spell List': '1st level: '
                                                        'Burning Hands, '
                                                        'Command. 2nd '
                                                        'level: '
                                                        'Blindness/Deafness, '
                                                        'Scorching Ray. '
                                                        '3rd level: '
                                                        'Fireball, '
                                                        'Stinking Cloud. '
                                                        '4th level: Fire '
                                                        'Shield, Wall of '
                                                        'Fire. 5th level: '
                                                        'Flame Strike, '
                                                        'Hallow.',
                                 "Dark One's Blessing": 'When you reduce a '
                                                        'hostile creature '
                                                        'to 0 hit points, '
                                                        'you gain '
                                                        'temporary hit '
                                                        'points equal to '
                                                        'your Charisma '
                                                        'modifier + your '
                                                        'warlock level '
                                                        '(minimum of 1).'},
                           '6': {"Dark One's Own Luck": 'You can call on '
                                                        'your patron to '
                                                        'alter fate in '
                                                        'your favor. When '
                                                        'you make an '
                                                        'ability check or '
                                                        'a saving throw, '
                                                        'you can use this '
                                                        'feature to add a '
                                                        'd10 to your roll. '
                                                        'You can do so '
                                                        'after seeing the '
                                                        'initial roll but '
                                                        'before any of the '
                                                        "roll's effects "
                                                        'occur. Once you '
                                                        'use this feature, '
                                                        "you can't use it "
                                                        'again until you '
                                                        'finish a short or '
                                                        'long rest.'},
                           '10': {'Fiendish Resilience': 'You can choose '
                                                         'one damage type '
                                                         'when you finish '
                                                         'a short or long '
                                                         'rest. You gain '
                                                         'resistance to '
                                                         'that damage type '
                                                         'until you choose '
                                                         'a different one '
                                                         'with this '
                                                         'feature. Damage '
                                                         'from magical '
                                                         'weapons or '
                                                         'silver weapons '
                                                         'ignores this '
                                                         'resistance.'},
                           '14': {'Hurl Through Hell': 'When you hit a '
                                                       'creature with an '
                                                       'attack, you can '
                                                       'use this feature '
                                                       'to instantly '
                                                       'transport the '
                                                       'target through the '
                                                       'lower planes. The '
                                                       'creature '
                                                       'disappears and '
                                                       'hurtles through a '
                                                       'nightmare '
                                                       'landscape. At the '
                                                       'end of your next '
                                                       'turn, the target '
                                                       'returns to the '
                                                       'space it '
                                                       'previously '
                                                       'occupied, or the '
                                                       'nearest unoccupied '
                                                       'space. If the '
                                                       'target is not a '
                                                       'fiend, it takes '
                                                       '10d10 psychic '
                                                       'damage as it reels '
                                                       'from its horrific '
                                                       'experience. Once '
                                                       'you use this '
                                                       "feature, you can't "
                                                       'use it again until '
                                                       'you finish a long '
                                                       'rest.'}}}
  ❌ the_great_old_one.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'The Great Old One',
     'class_name': 'Warlock',
     'description': 'Your patron is a mysterious entity whose nature is '
                    'utterly foreign to the fabric of reality. It might '
                    'come from the Far Realm, the space beyond reality, or '
                    'it could be one of the elder gods known only in '
                    'legends. Its motives are incomprehensible to mortals, '
                    'and its knowledge so immense and ancient that even '
                    'the greatest libraries pale in comparison to the vast '
                    'secrets it holds.',
     'features_by_level': {'1': {'Expanded Spell List': '1st level: '
                                                        'Dissonant '
                                                        "Whispers, Tasha's "
                                                        'Hideous Laughter. '
                                                        '2nd level: Calm '
                                                        'Emotions, Detect '
                                                        'Thoughts. 3rd '
                                                        'level: '
                                                        'Clairvoyance, '
                                                        'Sending. 4th '
                                                        'level: Dominate '
                                                        "Beast, Evard's "
                                                        'Black Tentacles. '
                                                        '5th level: '
                                                        'Dominate Person, '
                                                        'Modify Memory.',
                                 'Telepathic Communication': 'Your patron '
                                                             'bestows upon '
                                                             'you the '
                                                             'ability to '
                                                             'communicate '
                                                             'telepathically. '
                                                             'You can '
                                                             'telepathically '
                                                             'speak to any '
                                                             'creature you '
                                                             'can see '
                                                             'within 30 '
                                                             'feet of you. '
                                                             "You don't "
                                                             'need to '
                                                             'share a '
                                                             'language '
                                                             'with the '
                                                             'creature for '
                                                             'it to '
                                                             'understand '
                                                             'your '
                                                             'telepathic '
                                                             'utterances, '
                                                             'but the '
                                                             'creature '
                                                             'must be able '
                                                             'to '
                                                             'understand '
                                                             'at least one '
                                                             'language.'},
                           '6': {'Entropic Ward': 'You learn to magically '
                                                  'ward yourself against '
                                                  'attack and to turn an '
                                                  "enemy's failed strike "
                                                  'into good luck for '
                                                  'yourself. When a '
                                                  'creature makes an '
                                                  'attack roll against '
                                                  'you, you can use your '
                                                  'reaction to impose '
                                                  'disadvantage on that '
                                                  'roll. If the attack '
                                                  'misses you, your next '
                                                  'attack roll against the '
                                                  'creature has advantage '
                                                  'if you make it before '
                                                  'the end of your next '
                                                  'turn. Once you use this '
                                                  "feature, you can't use "
                                                  'it again until you '
                                                  'finish a short or long '
                                                  'rest.'},
                           '10': {'Thought Shield': "Your thoughts can't "
                                                    'be read by telepathy '
                                                    'or other means unless '
                                                    'you allow it. You '
                                                    'also have resistance '
                                                    'to psychic damage, '
                                                    'and whenever a '
                                                    'creature deals '
                                                    'psychic damage to '
                                                    'you, that creature '
                                                    'takes the same amount '
                                                    'of damage that you '
                                                    'do.'},
                           '14': {'Create Thrall': 'You gain the ability '
                                                   "to infect a humanoid's "
                                                   'mind with the alien '
                                                   'magic of your patron. '
                                                   'You can use your '
                                                   'action to choose a '
                                                   'humanoid that you can '
                                                   'see within 30 feet of '
                                                   'you. The target must '
                                                   'succeed on a Wisdom '
                                                   'saving throw against '
                                                   'your warlock spell '
                                                   'save DC or be charmed '
                                                   'by you until a Remove '
                                                   'Curse spell is cast on '
                                                   'it, the charmed '
                                                   'condition is removed '
                                                   'from it, or you use '
                                                   'this feature again. '
                                                   'You can communicate '
                                                   'telepathically with '
                                                   'the charmed creature '
                                                   'as long as the two of '
                                                   'you are on the same '
                                                   'plane of existence.'}}}

WIZARD:
  ❌ abjuration.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Abjuration',
     'class_name': 'Wizard',
     'description': 'Focuses on protective magic and dispelling harmful '
                    'effects.',
     'features_by_level': {'2': {'Abjuration Savant': 'The gold and time '
                                                      'you must spend to '
                                                      'copy Abjuration '
                                                      'spells into your '
                                                      'spellbook is '
                                                      'halved.',
                                 'Arcane Ward': 'You can weave magic '
                                                'around yourself for '
                                                'protection. When you cast '
                                                'an Abjuration spell of '
                                                '1st level or higher, you '
                                                'can simultaneously use a '
                                                "strand of the spell's "
                                                'magic to create a magical '
                                                'ward on yourself. The '
                                                'ward has hit points equal '
                                                'to twice your wizard '
                                                'level + your Intelligence '
                                                'modifier.'},
                           '6': {'Projected Ward': 'When a creature that '
                                                   'you can see within 30 '
                                                   'feet of you takes '
                                                   'damage, you can use '
                                                   'your reaction to cause '
                                                   'your Arcane Ward to '
                                                   'absorb that damage '
                                                   'instead of that '
                                                   'creature taking it. If '
                                                   'this damage reduces '
                                                   'the ward to 0 hit '
                                                   'points, the warded '
                                                   'creature takes any '
                                                   'remaining damage.'},
                           '10': {'Improved Abjuration': 'When you cast an '
                                                         'Abjuration spell '
                                                         'that requires '
                                                         'you to make an '
                                                         'ability check as '
                                                         'a part of '
                                                         'casting that '
                                                         'spell (as in '
                                                         'Counterspell and '
                                                         'Dispel Magic), '
                                                         'you add your '
                                                         'proficiency '
                                                         'bonus to that '
                                                         'ability check.'},
                           '14': {'Spell Resistance': 'You have advantage '
                                                      'on saving throws '
                                                      'against spells, and '
                                                      'you have resistance '
                                                      'against the damage '
                                                      'of spells.'}}}
  ❌ divination.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Divination',
     'class_name': 'Wizard',
     'description': 'Seeks to unveil the mysteries of the multiverse '
                    'through divination magic.',
     'features_by_level': {'2': {'Divination Savant': 'The gold and time '
                                                      'you must spend to '
                                                      'copy Divination '
                                                      'spells into your '
                                                      'spellbook is '
                                                      'halved.',
                                 'Portent': 'You can glimpse the future '
                                            'and use it to aid your allies '
                                            'or hinder your enemies. When '
                                            'you finish a long rest, roll '
                                            'two d20s and record the '
                                            'numbers rolled. You can '
                                            'replace any attack roll, '
                                            'saving throw, or ability '
                                            'check made by you or a '
                                            'creature you can see with one '
                                            'of these foretelling rolls.'},
                           '6': {'Expert Divination': 'Casting divination '
                                                      'spells comes so '
                                                      'easily to you that '
                                                      'it expends only a '
                                                      'fraction of your '
                                                      'spellcasting '
                                                      'efforts. When you '
                                                      'cast a divination '
                                                      'spell of 2nd level '
                                                      'or higher using a '
                                                      'spell slot, you '
                                                      'regain one expended '
                                                      'spell slot. The '
                                                      'slot you regain '
                                                      'must be of a level '
                                                      'lower than the '
                                                      'spell you cast and '
                                                      "can't be higher "
                                                      'than 5th level.'},
                           '10': {'The Third Eye': 'You can use your '
                                                   'action to increase '
                                                   'your powers of '
                                                   'perception. When you '
                                                   'do so, choose one of '
                                                   'the following '
                                                   'benefits, which lasts '
                                                   'until you are '
                                                   'incapacitated or you '
                                                   'take a short or long '
                                                   'rest: Darkvision (60 '
                                                   'feet), Ethereal Sight, '
                                                   'Greater Comprehension, '
                                                   'or See Invisibility.'},
                           '14': {'Greater Portent': 'The visions in your '
                                                     'dreams intensify and '
                                                     'paint a more '
                                                     'accurate picture of '
                                                     'what is to come. You '
                                                     'roll three d20s for '
                                                     'your Portent '
                                                     'feature, rather than '
                                                     'two.'}}}
  ❌ evocation.json
     Error: 'class' is a required property

Failed validating 'required' in schema:
    {'$schema': 'http://json-schema.org/draft-07/schema#',
     'title': 'D&D 2024 Subclass Data Model',
     'description': 'Schema for D&D 2024 subclass JSON files in '
                    'data/subclasses/{class}/',
     'type': 'object',
     'required': ['name',
                  'class',
                  'description',
                  'source',
                  'features_by_level'],
     'properties': {'name': {'type': 'string',
                             'description': 'The name of the subclass '
                                            "(e.g., 'Oath of Devotion', "
                                            "'College of Lore')"},
                    'class': {'type': 'string',
                              'description': 'The parent class this '
                                             'subclass belongs to',
                              'enum': ['Barbarian',
                                       'Bard',
                                       'Cleric',
                                       'Druid',
                                       'Fighter',
                                       'Monk',
                                       'Paladin',
                                       'Ranger',
                                       'Rogue',
                                       'Sorcerer',
                                       'Warlock',
                                       'Wizard']},
                    'description': {'type': 'string',
                                    'description': 'A brief description of '
                                                   'the subclass theme and '
                                                   'abilities'},
                    'source': {'type': 'string',
                               'description': 'The source book for this '
                                              "subclass (e.g., 'Player's "
                                              "Handbook 2024')"},
                    'features_by_level': {'type': 'object',
                                          'description': 'Features gained '
                                                         'at specific '
                                                         'levels. '
                                                         'IMPORTANT: Each '
                                                         'level must map '
                                                         'to an OBJECT '
                                                         'where keys are '
                                                         'feature names '
                                                         'and values are '
                                                         'feature '
                                                         'descriptions '
                                                         '(NOT an array).',
                                          'patternProperties': {'^([1-9]|1[0-9]|20)$': {'type': 'object',
                                                                                        'description': 'An '
                                                                                                       'object '
                                                                                                       'mapping '
                                                                                                       'feature '
                                                                                                       'names '
                                                                                                       'to '
                                                                                                       'their '
                                                                                                       'descriptions',
                                                                                        'patternProperties': {'.*': {'oneOf': [{'type': 'string',
                                                                                                                                'description': 'A '
                                                                                                                                               'simple '
                                                                                                                                               'text '
                                                                                                                                               'description '
                                                                                                                                               'of '
                                                                                                                                               'the '
                                                                                                                                               'feature'},
                                                                                                                               {'type': 'object',
                                                                                                                                'description': 'A '
                                                                                                                                               'complex '
                                                                                                                                               'feature '
                                                                                                                                               'with '
                                                                                                                                               'additional '
                                                                                                                                               'properties',
                                                                                                                                'properties': {'description': {'type': 'string'},
                                                                                                                                               'spells': {'type': 'object',
                                                                                                                                                          'description': 'For '
                                                                                                                                                                         'spell-granting '
                                                                                                                                                                         'features, '
                                                                                                                                                                         'spells '
                                                                                                                                                                         'by '
                                                                                                                                                                         'level'},
                                                                                                                                               'choices': {'type': 'object',
                                                                                                                                                           'description': 'For '
                                                                                                                                                                          'features '
                                                                                                                                                                          'with '
                                                                                                                                                                          'choices '
                                                                                                                                                                          '(see '
                                                                                                                                                                          'Choice '
                                                                                                                                                                          'Reference '
                                                                                                                                                                          'System)'}}}]}}}},
                                          'additionalProperties': False}},
     'examples': [{'name': 'College of Lore',
                   'class': 'Bard',
                   'description': 'Bards who seek knowledge and secrets',
                   'source': "Player's Handbook 2024",
                   'features_by_level': {'3': {'Bonus Proficiencies': 'Gain '
                                                                      'proficiency '
                                                                      'in '
                                                                      'three '
                                                                      'skills '
                                                                      'of '
                                                                      'your '
                                                                      'choice.',
                                               'Cutting Words': 'Use '
                                                                'Reaction '
                                                                'to '
                                                                'subtract '
                                                                'Bardic '
                                                                'Inspiration '
                                                                'die from '
                                                                'enemy '
                                                                'rolls.'},
                                         '6': {'Magical Discoveries': 'Learn '
                                                                      'two '
                                                                      'spells '
                                                                      'from '
                                                                      'Cleric, '
                                                                      'Druid, '
                                                                      'or '
                                                                      'Wizard '
                                                                      'lists.'},
                                         '14': {'Peerless Skill': 'Add '
                                                                  'Bardic '
                                                                  'Inspiration '
                                                                  'to '
                                                                  'failed '
                                                                  'ability '
                                                                  'checks '
                                                                  'or '
                                                                  'attacks.'}}}]}

On instance:
    {'name': 'Evocation',
     'class_name': 'Wizard',
     'description': 'Focuses on magic that creates powerful elemental '
                    'effects.',
     'features_by_level': {'2': {'Evocation Savant': 'The gold and time '
                                                     'you must spend to '
                                                     'copy Evocation '
                                                     'spells into your '
                                                     'spellbook is halved.',
                                 'Sculpt Spells': 'You can create pockets '
                                                  'of relative safety '
                                                  'within the effects of '
                                                  'your evocation spells. '
                                                  'When you cast an '
                                                  'evocation spell that '
                                                  'affects other creatures '
                                                  'that you can see, you '
                                                  'can choose a number of '
                                                  'them equal to 1 + the '
                                                  "spell's level. The "
                                                  'chosen creatures '
                                                  'automatically succeed '
                                                  'on their saving throws '
                                                  'against the spell, and '
                                                  'they take no damage if '
                                                  'they would normally '
                                                  'take half damage on a '
                                                  'successful save.'},
                           '6': {'Potent Cantrip': 'Your damaging cantrips '
                                                   'affect even creatures '
                                                   'that avoid the brunt '
                                                   'of the effect. When a '
                                                   'creature succeeds on a '
                                                   'saving throw against '
                                                   'your cantrip, the '
                                                   'creature takes half '
                                                   "the cantrip's damage "
                                                   '(if any) but suffers '
                                                   'no additional effect '
                                                   'from the cantrip.'},
                           '10': {'Empowered Evocation': 'You can add your '
                                                         'Intelligence '
                                                         'modifier to the '
                                                         'damage roll of '
                                                         'any wizard '
                                                         'evocation spell '
                                                         'you cast. The '
                                                         'damage bonus '
                                                         'applies to one '
                                                         'damage roll of a '
                                                         'spell, not '
                                                         'multiple rolls.'},
                           '14': {'Overchannel': 'You can increase the '
                                                 'power of your simpler '
                                                 'spells. When you cast a '
                                                 'wizard spell of 5th '
                                                 'level or lower that '
                                                 'deals damage, you can '
                                                 'deal maximum damage with '
                                                 'that spell. The first '
                                                 'time you do so, you '
                                                 'suffer no adverse '
                                                 'effect. If you use this '
                                                 'feature again before you '
                                                 'finish a long rest, you '
                                                 'take 2d12 necrotic '
                                                 'damage for each level of '
                                                 'the spell, immediately '
                                                 'after you cast it.'}}}

======================================================================
VALIDATION SUMMARY
======================================================================
❌ Some data files failed validation

To fix validation errors:
  1. Review the schema in models/ directory
  2. Check examples in models/README.md
  3. Update data files to match the schema
